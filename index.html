<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpellTester</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1 id="welcome"></h1>
    <a href="add.html"><button>New Words</button></a>
    <a href="game.html"><button>Resume Session</button></a>
    <h1>ðŸ”¥<span id="streak"></span></h2>
    <script>
        window.onload = function() {
    let name = localStorage.getItem("name")

    if (!name) {
        name = window.prompt('What is your name?')
        if (name) {
            localStorage.setItem("name", name)
        } else {
            name = "Player"
        }
    }

    document.getElementById('welcome').textContent = `Welcome, ${name}`
}

        function getToday() {
  return new Date().toDateString();
}

function updateStreak() {
  const lastDate = localStorage.getItem('lastDate');
  let streak = Number(localStorage.getItem('streak')) || 0;
  const today = getToday();

  if (lastDate === today) {
    return streak;
  }

  if (lastDate && (new Date(today) - new Date(lastDate) === 86400000)) {
    streak += 1;
  } else {
    streak = 1;
  }

  localStorage.setItem('lastDate', today);
  localStorage.setItem('streak', streak);
  return streak;
}

function showStreak() {
  const streak = localStorage.getItem('streak') || 0;
  document.getElementById('streak').textContent = streak
}

setInterval(function() {
  updateStreak();
  showStreak();
}, 1000);

showStreak();

    </script>
</body>
</html>