<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Spell Tester</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h2 style="color: rgb(69, 222, 100);"> Spell Tester</h2>
    <h1 id="welcome"></h1>
    <a href="add.html"><button>New Words</button></a>
    <a href="game.html"><button>Start Session</button></a>
    <a href="practice.html"><button>Practice</button></a>
    <h1>üî•<span id="streak"></span>
    <br><span id="day"></span></h2>
    <h1>üèÜ<span id="highscore"></span>
    <button id="mode" style="position: absolute; bottom: 5px; right: 5px; padding: 10px 15px;">‚èæ</button>
    <script>
        window.onload = function() {
    let name = localStorage.getItem("name")
    document.getElementById('welcome').textContent = `Welcome, ${name}`

    let mode = localStorage.getItem("mode")

     if (mode === "dark") {
        document.body.style.backgroundColor = 'black'
    } else if (mode === "light"){
        document.body.style.backgroundColor = 'white'
    }
}

localStorage.setItem("mode", "light")

document.getElementById('mode').addEventListener('click', function() {
     let mode = localStorage.getItem("mode")
     if (mode === "light") {
        document.body.style.backgroundColor = 'black'
        document.getElementById('mode').textContent = "‚òÄÔ∏é"
        localStorage.setItem("mode", "dark")
    } else if (mode === "dark"){
        document.body.style.backgroundColor = 'white'
        document.getElementById('mode').textContent = "‚èæ"
        localStorage.setItem("mode", "light")
    }
})



        function getToday() {
  return new Date().toDateString()
}

function updateStreak() {
  const lastDate = localStorage.getItem('lastDate')
  let streak = Number(localStorage.getItem('streak')) || 0
  const today = getToday()

  if (lastDate === today) {
    return streak
    document.getElementById('day').textContent = 'day'
  } else {
    document.getElementById('day').textContent = 'days'
  }

  if (lastDate && (new Date(today) - new Date(lastDate) === 86400000)) {
    streak += 1
  } else {
    streak = 1
  }

  localStorage.setItem('lastDate', today)
  localStorage.setItem('streak', streak)
  return streak
}
function showStreak() {
  const streak = localStorage.getItem('streak') || 0
  document.getElementById('streak').textContent = streak
  
}

setInterval(function() {
  updateStreak()
  showStreak()
}, 1000)

let highscore = parseInt(localStorage.getItem("highscore")) || 0;
    document.getElementById('highscore').textContent = highscore;

showStreak()

    </script>
</body>
</html>