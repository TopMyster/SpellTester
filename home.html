<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> SpellTester</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div style="background-color: rgb(69, 222, 100); border-radius: 25px; margin-top: 5px; position: relative; padding: 35px 0px; box-shadow: 2px 2px 50px rgba(21, 21, 21, 0.052);">
    <h2 style="color: rgba(255, 255, 255, 0.796);">SpellTester</h2>
    <h1 id="welcome"></h1>
    <a href="add.html"><button>New Words</button></a>
    <a href="game.html"><button>Start Session</button></a>
    <a href="practice.html"><button>Practice</button></a>
  </div>
    <h1>üî•<span id="streak"></span>
    <br><span id="day"></span></h2>
    <h1>üèÜ<span id="highscore"></span>
    <button id="mode" style="position: absolute; bottom: 5px; right: 5px; padding: 10px 15px;">‚èæ</button>
    <a href="https://github.com/TopMyster/SpellTester" style="bottom: 6px; font-size: 17px; left: 6px; position: absolute; color: gray; text-decoration: none; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; font-weight: bold;">Github</a>
    <script>
        window.onload = function() {
    let name = localStorage.getItem("name")
    document.getElementById('welcome').textContent = `Welcome, ${name}`
} 

document.getElementById('mode').addEventListener('click', function() {
     let mode = localStorage.getItem("mode")
     if (mode === "light") {
        document.body.style.backgroundColor = 'black'
        document.getElementById('mode').textContent = "‚òÄÔ∏é"
        localStorage.setItem("mode", "dark")
    } else if (mode === "dark"){
        document.body.style.backgroundColor = 'white'
        document.getElementById('mode').textContent = "‚èæ"
        localStorage.setItem("mode", "light")
    }
})



        function getToday() {
  return new Date().toDateString()
}

function updateStreak() {
  const lastDate = localStorage.getItem('lastDate')
  let streak = Number(localStorage.getItem('streak')) || 0
  const today = getToday()

  if (lastDate === today) {
    return streak
    document.getElementById('day').textContent = 'day'
  } else {
    document.getElementById('day').textContent = 'days'
  }

  if (lastDate && (new Date(today) - new Date(lastDate) === 86400000)) {
    streak += 1
  } else {
    streak = 1
  }

  localStorage.setItem('lastDate', today)
  localStorage.setItem('streak', streak)
  return streak
}
function showStreak() {
  const streak = localStorage.getItem('streak') || 0
  document.getElementById('streak').textContent = streak
  
}

setInterval(function() {
  updateStreak()
  showStreak()
}, 1000)

let highscore = parseInt(localStorage.getItem("highscore")) || 0;
    document.getElementById('highscore').textContent = highscore;

showStreak()

    </script>
</body>
</html>
